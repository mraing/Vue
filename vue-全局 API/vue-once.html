<!DOCTYPE html>
<html lang="zh-cn">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <title>动态组件与 v-once指令</title>
    <style></style>
  </head>

  <body>
    <div id="app">

      <!-- 动态组件，通过 is 去动态渲染组件 -->
      <!-- <component :is="type"></component> -->

      <div>v-once 有助于提高静态页面的渲染速度</div>

      <child-one v-if="type === 'child-one'"></child-one>
      <child-two v-if="type === 'child-two'"></child-two>
      <button @click="handleClick">CHANGE CLICK ME</button>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/vue"></script>
    <script>
      Vue.component("child-one", {
        template: `<div v-once>one,one</div>`
      });

      Vue.component("child-two", {
        template: `<div v-once>two-two</div>`
      });

      var vm = new Vue({
        el: "#app",
        data: {
          isShow: true,
          type: 'child-one'
        },
        methods:{
          handleClick (){
            // this.isShow = !this.isShow;
            this.type = (this.type === 'child-one'? 'child-two': 'child-one');
          }
        }
      });
    </script>
  </body>
</html>
